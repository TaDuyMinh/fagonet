import{r as g,J as _,K as F,M,O as J,Q as B,T as H}from"./index-f527d306.js";function K(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var T={};function C(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&T[e[0]]||(typeof e[0]=="string"&&(T[e[0]]=new Date),K.apply(void 0,e))}var z=function(e,n){return function(){if(e.isInitialized)n();else{var a=function i(){setTimeout(function(){e.off("initialized",i)},0),n()};e.on("initialized",a)}}};function A(t,e,n){t.loadNamespaces(e,z(t,n))}function E(t,e,n,a){typeof n=="string"&&(n=[n]),n.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,z(t,a))}function W(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=e.languages[0],i=e.options?e.options.fallbackLng:!1,f=e.languages[e.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var r=function(s,u){var m=e.services.backendConnector.state["".concat(s,"|").concat(u)];return m===-1||m===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!r(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(a,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||r(a,t)&&(!i||r(f,t)))}function D(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return C("i18n.languages were undefined or empty",e.languages),!0;var a=e.options.ignoreJSONStructure!==void 0;return a?e.hasLoadedNamespace(t,{lng:n.lng,precheck:function(f,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&f.services.backendConnector.backend&&f.isLanguageChangingTo&&!r(f.isLanguageChangingTo,t))return!1}}):W(t,e,n)}var Q=g.createContext(),Y=function(){function t(){F(this,t),this.usedNamespaces={}}return _(t,[{key:"addUsedNamespaces",value:function(n){var a=this;n.forEach(function(i){a.usedNamespaces[i]||(a.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function $(t){if(Array.isArray(t))return t}function q(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,i,f,r,p=[],s=!0,u=!1;try{if(f=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=f.call(n)).done)&&(p.push(a.value),p.length!==e);s=!0);}catch(m){u=!0,i=m}finally{try{if(!s&&n.return!=null&&(r=n.return(),Object(r)!==r))return}finally{if(u)throw i}}return p}}function k(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function G(t,e){if(t){if(typeof t=="string")return k(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}function X(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z(t,e){return $(t)||q(t,e)||G(t,e)||X()}function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U(Object(n),!0).forEach(function(a){J(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var V=function(e,n){var a=g.useRef();return g.useEffect(function(){a.current=n?a.current:e},[e,n]),a.current};function ne(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,a=g.useContext(Q)||{},i=a.i18n,f=a.defaultNS,r=n||i||B();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new Y),!r){C("You will need to pass in an i18next instance by using initReactI18next");var p=function(d,c){return typeof c=="string"?c:c&&H(c)==="object"&&typeof c.defaultValue=="string"?c.defaultValue:Array.isArray(d)?d[d.length-1]:d},s=[p,{},!1];return s.t=p,s.i18n={},s.ready=!1,s}r.options.react&&r.options.react.wait!==void 0&&C("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=O(O(O({},M()),r.options.react),e),m=u.useSuspense,I=u.keyPrefix,o=t||f||r.options&&r.options.defaultNS;o=typeof o=="string"?[o]:o||["translation"],r.reportNamespaces.addUsedNamespaces&&r.reportNamespaces.addUsedNamespaces(o);var y=(r.isInitialized||r.initializedStoreOnce)&&o.every(function(l){return D(l,r,u)});function b(){return r.getFixedT(e.lng||null,u.nsMode==="fallback"?o:o[0],I)}var R=g.useState(b),x=Z(R,2),j=x[0],h=x[1],w=o.join();e.lng&&(w="".concat(e.lng).concat(w));var P=V(w),v=g.useRef(!0);g.useEffect(function(){var l=u.bindI18n,d=u.bindI18nStore;v.current=!0,!y&&!m&&(e.lng?E(r,e.lng,o,function(){v.current&&h(b)}):A(r,o,function(){v.current&&h(b)})),y&&P&&P!==w&&v.current&&h(b);function c(){v.current&&h(b)}return l&&r&&r.on(l,c),d&&r&&r.store.on(d,c),function(){v.current=!1,l&&r&&l.split(" ").forEach(function(S){return r.off(S,c)}),d&&r&&d.split(" ").forEach(function(S){return r.store.off(S,c)})}},[r,w]);var L=g.useRef(!0);g.useEffect(function(){v.current&&!L.current&&h(b),L.current=!1},[r,I]);var N=[j,r,y];if(N.t=j,N.i18n=r,N.ready=y,y||!y&&!m)return N;throw new Promise(function(l){e.lng?E(r,e.lng,o,function(){return l()}):A(r,o,function(){return l()})})}export{ne as u};
